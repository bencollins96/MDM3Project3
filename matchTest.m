function[] = matchTest()
% Using Data from 0210-0319
% Just picking one example that seems to work
% passes through I1 then A1 5 secs later, have similar curves
% comparing them accross using dynamic time warp shows significantly lower
% distance than comparing to others for the most part...
% This is only one example so it could just be coincidental...
% some other data points get close (A3) so it could potentially be 
% recognising a specific vehicle or something


% 12:44.2	    N07175A1
A = [0, 255, 23, 21, 20, 18, 17, 23, 121, 220, 118, 17, 29, 15, 0];

% 12:39.1		N07191I1
I = [0, 244, 131, 19, 19, 19, 19, 13, 8, 12, 15, 19, 137, 255, 176, 97, 19, 19, 19, 0];

% plot the two signatures that should match
figure;
hold on;
plot(A)
plot(I)
title('2 Signatures that should match')

% A and B should match relatively well
dist = dtw(A,I)

% getting the index for the shift that needs to be done for the min distance
% and plotting them stretched (could be useful)
[~,iA,iI] = dtw(A,I);
figure;
hold on;
plot(A(iA))
plot(I(iI))
title('Same 2 Signatures alligned for min dtw distance')

%% Taking Other samples at random from the same data to compare 

% Random other N07175A1 samples for comparison
A1 = [36, 61, 51, 74, 74, 68, 96, 83, 98, 116, 101, 120, 116, 130, 145, 133, 160, 148, 172, 187, 172, 198, 187, 200, 222, 208, 215, 217, 220, 242, 222, 235, 230, 235, 255, 230, 242, 237, 250, 250, 235, 245, 237, 237, 247, 235, 235, 217, 230, 232, 217, 225, 208, 205, 208, 190, 198, 183, 178, 175, 160, 170, 150, 150, 130, 138, 133, 116, 116, 103, 108, 105, 88, 88, 76, 74, 68, 64, 59, 44, 44, 44, 34];
A2 = [120, 157, 163, 187, 163, 133, 171, 163, 209, 179, 179, 201, 195, 217, 187, 171, 195, 187, 239, 195, 179, 209, 201, 255, 201, 201, 201, 217, 233, 217, 179, 195, 201, 247, 217, 171, 187, 195, 233, 217, 171, 171, 201, 239, 209, 179, 179, 217, 209, 201, 201, 171, 187, 201, 217, 163, 141, 179, 201, 195, 141, 126, 157, 179, 179, 157, 126, 133, 149, 141, 120];
A3 = [0, 255, 178, 102, 25, 16, 7, 17, 27, 37, 22, 7, 13, 19, 25, 16, 7, 15, 23, 32, 19, 7, 87, 168, 248, 130, 12, 16, 21, 25, 0];
A4 = [51, 82, 85, 78, 95, 78, 103, 106, 109, 113, 103, 120, 130, 133, 141, 133, 154, 162, 175, 168, 162, 185, 189, 200, 200, 189, 220, 220, 230, 220, 213, 234, 234, 244, 234, 223, 240, 240, 248, 240, 230, 248, 248, 255, 240, 230, 244, 244, 248, 230, 220, 238, 234, 238, 223, 206, 223, 217, 223, 200, 185, 202, 196, 206, 179, 185, 164, 143, 164, 151, 154, 141, 120, 137, 126, 133, 109, 92, 113, 109, 99, 78, 74, 95, 72, 72, 54, 40, 64, 47];
A5 = [78, 92, 111, 127, 106, 116, 136, 141, 161, 136, 146, 155, 180, 185, 180, 176, 185, 205, 230, 201, 205, 225, 230, 234, 220, 225, 225, 245, 245, 234, 234, 239, 255, 250, 245, 239, 245, 255, 245, 234, 234, 239, 245, 239, 230, 225, 225, 225, 220, 210, 205, 215, 205, 205, 195, 180, 176, 180, 171, 151, 155, 161, 151, 131, 136, 122, 116, 136, 102, 106, 92, 102, 102, 92, 78];
A6 = [20, 24, 26, 33, 31, 42, 55, 49, 65, 51, 69, 72, 80, 87, 91, 104, 121, 120, 125, 131, 152, 151, 160, 177, 171, 189, 195, 199, 215, 214, 226, 230, 227, 237, 230, 240, 240, 235, 246, 243, 251, 250, 246, 255, 248, 251, 245, 239, 245, 236, 241, 233, 227, 233, 222, 225, 215, 208, 211, 199, 196, 185, 172, 170, 143, 140, 128, 122, 111, 100, 94, 86, 83, 74, 65, 58, 51, 49, 43, 33, 27, 27, 27, 22, 13];
A7 = [0, 255, 10, 24, 17, 17, 17, 17, 230, 17, 15, 12, 10];
A8 = [16, 229, 16, 63, 110, 5, 5, 10, 16, 23, 5, 5, 5, 14, 23, 10, 5, 10, 20, 30, 16, 5, 255, 145, 35, 16, 5, 16, 26, 35, 23, 5, 16, 20, 23, 30, 5, 10, 16, 23, 35, 26, 16, 20, 23, 41, 5, 16, 20, 23, 41, 148, 255, 139, 23, 41, 26, 10, 0];
A9 = [9, 13, 18, 21, 24, 24, 31, 42, 54, 62, 67, 77, 88, 103, 108, 115, 125, 137, 149, 161, 170, 183, 199, 209, 221, 227, 231, 234, 236, 243, 245, 249, 252, 255, 252, 251, 246, 240, 238, 228, 226, 219, 215, 207, 196, 190, 178, 170, 156, 141, 130, 116, 108, 97, 87, 81, 70, 61, 53, 46, 40, 32, 28, 23, 16, 14, 12, 12, 3];
A10= [41, 51, 56, 64, 67, 67, 67, 82, 95, 98, 95, 100, 111, 122, 126, 137, 140, 164, 171, 161, 174, 179, 181, 35, 187, 203, 187, 190, 197, 177, 190, 174, 187, 190, 174, 179, 174, 171, 184, 161, 155, 140, 151, 135, 113, 129, 69, 103, 108, 87, 87, 71, 67, 67, 48, 61, 48, 43, 38];


% Random other N07175A1 samples for comparison
I1 = [0, 128, 68, 7, 7, 7, 7, 7, 7, 13, 13, 13, 17, 1, 17, 136, 255, 7, 7, 7, 4, 1, 7, 10, 13, 7, 1, 7, 1, 7, 7, 7, 1, 1, 13, 10, 7, 7, 7, 13, 10, 7, 4, 1, 7, 10, 13, 7, 1, 13, 15, 17, 1, 9, 17, 15, 13, 238, 125, 13, 7, 1, 7, 10, 13, 0];
I2 = [6, 10, 18, 27, 36, 49, 62, 78, 91, 107, 124, 142, 180, 185, 205, 226, 240, 245, 245, 240, 238, 241, 234, 232, 227, 223, 218, 213, 208, 202, 197, 189, 175, 159, 138, 123, 108, 98, 88, 78, 71, 62, 55, 49, 42, 34, 28, 26, 22, 18, 17, 13, 13, 12, 9, 8, 7, 7, 7, 4, 3];
I3 = [1, 140, 77, 13, 9, 5, 1, 10, 18, 14, 11, 7, 13, 18, 16, 15, 13, 16, 18, 16, 15, 13, 22, 30, 1, 7, 13, 13, 13, 7, 10, 13, 16, 18, 16, 15, 13, 1, 13, 7, 10, 13, 13, 13, 1, 4, 7, 16, 24, 13, 1, 7, 255, 7, 5, 3, 1, 10, 18, 14, 11, 7];
I4 = [7, 10, 11, 10, 13, 13, 19, 23, 22, 38, 40, 47, 60, 68, 74, 82, 91, 101, 110, 120, 126, 133, 143, 151, 158, 167, 175, 183, 198, 201, 203, 205, 218, 223, 223, 229, 231, 227, 237, 239, 237, 237, 247, 246, 245, 247, 246, 252, 252, 255, 251, 251, 251, 251, 249, 244, 242, 242, 239, 237, 231, 225, 221, 215, 202, 195, 185, 171, 161, 150, 139, 130, 118, 110, 102, 94, 87, 79, 72, 64, 60, 55, 48, 43, 39, 34, 31, 26, 24, 21, 20, 20, 16, 16, 14, 13, 13, 10, 9, 7, 9, 8, 5];
I5 = [4, 9, 14, 20, 26, 28, 32, 42, 52, 68, 79, 95, 112, 123, 137, 151, 167, 186, 205, 222, 231, 234, 237, 236, 238, 238, 245, 255, 253, 247, 241, 236, 231, 229, 224, 220, 210, 199, 186, 168, 151, 130, 117, 109, 96, 81, 64, 51, 43, 36, 30, 24, 20, 17, 14, 11, 8, 7, 6];
I6 =[0, 114, 7, 10, 13, 13, 13, 13, 249, 7, 1, 4, 7, 10, 13, 13, 13, 13, 10, 7, 1, 7, 13, 10, 7, 90, 172, 255, 1, 13, 7, 1, 7, 1, 13, 7, 1];
I7 =[6, 9, 13, 11, 16, 20, 19, 25, 30, 41, 46, 56, 65, 75, 90, 97, 102, 115, 122, 133, 146, 159, 173, 182, 193, 198, 208, 212, 218, 226, 230, 236, 240, 245, 248, 251, 250, 250, 249, 247, 249, 247, 253, 252, 254, 255, 253, 254, 252, 252, 252, 248, 248, 245, 243, 241, 236, 236, 233, 230, 228, 219, 216, 206, 190, 174, 161, 149, 133, 122, 109, 98, 88, 76, 69, 58, 50, 45, 36, 35, 29, 27, 24, 22, 21, 17, 15, 14, 8, 10, 6, 7, 6];
I8 =[5, 17, 11, 11, 28, 24, 29, 25, 50, 51, 72, 92, 106, 115, 135, 145, 172, 177, 187, 186, 213, 216, 199, 220, 255, 243, 232, 242, 251, 239, 226, 241, 246, 237, 234, 231, 225, 221, 211, 204, 195, 205, 165, 144, 128, 114, 97, 91, 78, 72, 62, 50, 45, 37, 32, 27, 21, 16, 12, 10, 8, 6, 5];
I9 =[6, 10, 16, 25, 32, 44, 57, 72, 87, 102, 121, 138, 155, 176, 190, 207, 229, 238, 247, 253, 253, 249, 248, 248, 248, 248, 248, 246, 245, 244, 241, 237, 233, 230, 227, 225, 222, 213, 201, 183, 168, 153, 140, 129, 114, 103, 93, 85, 78, 69, 62, 53, 46, 36, 30, 24, 21, 20, 16, 13, 9, 8, 7, 5];
I10 =[7, 9, 14, 18, 24, 23, 26, 35, 39, 50, 50, 62, 76, 90, 101, 112, 119, 130, 142, 157, 172, 188, 204, 213, 223, 219, 217, 230, 226, 226, 232, 242, 247, 249, 243, 243, 238, 235, 233, 224, 224, 217, 216, 213, 208, 205, 197, 189, 180, 165, 156, 143, 132, 123, 110, 103, 91, 83, 74, 59, 53, 41, 35, 31, 25, 22, 20, 20, 16, 16, 12, 10, 9, 6, 5];

dist1 = dtw(A,I1)
dist2 = dtw(A,I2)
dist3 = dtw(A,I3)
dist4 = dtw(A,I4)
dist5 = dtw(A,I5)
dist6 = dtw(A,I6)
dist7 = dtw(A,I7)
dist8 = dtw(A,I8)
dist9 = dtw(A,I9)
dist10 = dtw(A,I10)


dist11 = dtw(A1,I)
dist12 = dtw(A2,I)
dist13 = dtw(A3,I)
dist14 = dtw(A4,I)
dist15 = dtw(A5,I)
dist16 = dtw(A6,I)
dist17 = dtw(A7,I)
dist18 = dtw(A8,I)
dist19 = dtw(A9,I)
dist20 = dtw(A10,I)

% plotting the lowest distance measure that should be incorrect
% figure
% plot(A3)
end
